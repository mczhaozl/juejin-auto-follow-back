# ğŸ”‘ UUID è‡ªåŠ¨æå–è¯´æ˜

## ä»€ä¹ˆæ˜¯ UUIDï¼Ÿ

UUIDï¼ˆUser Unique IDï¼‰æ˜¯æ˜é‡‘ API ç”¨æ¥è¯†åˆ«æ“ä½œè€…èº«ä»½çš„å‚æ•°ã€‚åœ¨è°ƒç”¨å…³æ³¨æ¥å£æ—¶éœ€è¦æä¾›ï¼š

```
POST /interact_api/v1/follow/do?aid=2608&uuid=7586574305263552043&spider=0
                                         â†‘
                                    æ“ä½œè€…çš„ UUID
```

## è„šæœ¬å¦‚ä½•è‡ªåŠ¨è·å– UUIDï¼Ÿ

### 1. ä» Cookie ä¸­æå–

Cookie ä¸­çš„ `__tea_cookie_tokens_2608` å­—æ®µåŒ…å«äº† UUID ä¿¡æ¯ï¼š

```
__tea_cookie_tokens_2608=%257B%2522web_id%2522%253A%25227586574305263552043%2522...
```

### 2. è§£ç è¿‡ç¨‹

è¿™ä¸ªå€¼ç»è¿‡äº†**åŒé‡ URL ç¼–ç **ï¼Œéœ€è¦è§£ç ä¸¤æ¬¡ï¼š

```python
# åŸå§‹å€¼ï¼ˆåŒé‡ç¼–ç ï¼‰
raw = "%257B%2522web_id%2522%253A%25227586574305263552043%2522..."

# ç¬¬ä¸€æ¬¡è§£ç 
decoded1 = urllib.parse.unquote(raw)
# ç»“æœ: %7B%22web_id%22%3A%227586574305263552043%22...

# ç¬¬äºŒæ¬¡è§£ç 
decoded2 = urllib.parse.unquote(decoded1)
# ç»“æœ: {"web_id":"7586574305263552043",...}

# è§£æ JSON
tokens = json.loads(decoded2)
uuid = tokens['web_id']
# ç»“æœ: 7586574305263552043
```

### 3. ä»£ç å®ç°

```python
def _extract_uuid(self, cookies_str):
    """ä» cookies ä¸­æå– web_id ä½œä¸º uuid"""
    try:
        import urllib.parse
        for item in cookies_str.split(';'):
            item = item.strip()
            if '__tea_cookie_tokens_2608' in item:
                value = item.split('=', 1)[1]
                # éœ€è¦è§£ç ä¸¤æ¬¡ï¼ˆåŒé‡ URL ç¼–ç ï¼‰
                decoded = urllib.parse.unquote(value)
                decoded = urllib.parse.unquote(decoded)
                tokens = json.loads(decoded)
                web_id = tokens.get('web_id')
                if web_id:
                    print(f"[{self.account_name}] æˆåŠŸæå– UUID: {web_id}")
                    return web_id
    except Exception as e:
        print(f"[{self.account_name}] UUID æå–å¤±è´¥ï¼Œä½¿ç”¨é»˜è®¤å€¼: {e}")
    return '7586574305263552043'
```

## æµ‹è¯•ä½ çš„ Cookie

è¿è¡Œæµ‹è¯•è„šæœ¬éªŒè¯ UUID æå–ï¼š

```bash
python3 test_your_cookie.py
```

**é¢„æœŸè¾“å‡º**ï¼š
```
============================================================
æµ‹è¯•ä½ çš„ Cookie
============================================================

âœ… æˆåŠŸæå– UUID: 7586574305263552043

è¿™ä¸ª UUID å°†ç”¨äº API è°ƒç”¨:
  GET /interact_api/v1/follow/do?aid=2608&uuid=7586574305263552043&spider=0
============================================================
```

## API è°ƒç”¨ç¤ºä¾‹

### è·å–ç²‰ä¸åˆ—è¡¨

```python
url = "https://api.juejin.cn/interact_api/v1/message/get_message"
params = {
    'aid': '2608',
    'uuid': '7586574305263552043',  # â† ä» Cookie è‡ªåŠ¨æå–
    'spider': '0'
}
```

### å…³æ³¨ç”¨æˆ·

```python
url = "https://api.juejin.cn/interact_api/v1/follow/do"
params = {
    'aid': '2608',
    'uuid': '7586574305263552043',  # â† ä» Cookie è‡ªåŠ¨æå–
    'spider': '0'
}
data = {
    "id": "994385683293918",  # â† ç›®æ ‡ç”¨æˆ·IDï¼ˆä»ç²‰ä¸åˆ—è¡¨è·å–ï¼‰
    "type": 1
}
```

## å¤šè´¦å·åœºæ™¯

æ¯ä¸ªè´¦å·çš„ Cookie éƒ½åŒ…å«è‡ªå·±çš„ UUIDï¼š

```python
# ä¸»è´¦å·
main_bot = JuejinFollowBot(JUEJIN_COOKIES, "ä¸»è´¦å·")
# è‡ªåŠ¨æå–: uuid = "7586574305263552043"

# å°å·1
bot2 = JuejinFollowBot(JUEJIN_COOKIES_ACCOUNT2, "å°å·1")
# è‡ªåŠ¨æå–: uuid = "7603584102477874739"

# å°å·2
bot3 = JuejinFollowBot(JUEJIN_COOKIES_ACCOUNT3, "å°å·2")
# è‡ªåŠ¨æå–: uuid = "7603590070587229742"
```

æ¯ä¸ªè´¦å·ä½¿ç”¨è‡ªå·±çš„ UUID è°ƒç”¨ APIï¼Œå®ç°å¤šè´¦å·æ“ä½œã€‚

## å®Œæ•´æµç¨‹ç¤ºä¾‹

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ä¸»è´¦å· Cookie                                           â”‚
â”‚  __tea_cookie_tokens_2608=%257B%2522web_id%2522...      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â†“ è‡ªåŠ¨æå–
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ä¸»è´¦å· UUID: 7586574305263552043                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â†“ ç”¨äº API è°ƒç”¨
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  GET /message/get_message?uuid=7586574305263552043      â”‚
â”‚  è¿”å›: ç²‰ä¸åˆ—è¡¨                                          â”‚
â”‚  - ç”¨æˆ·A (ID: 994385683293918)                          â”‚
â”‚  - ç”¨æˆ·B (ID: 123456789012345)                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â†“ æå–ç”¨æˆ·ID
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  æ‰€æœ‰è´¦å·ä¾æ¬¡å…³æ³¨è¿™äº›ç”¨æˆ·                                â”‚
â”‚                                                         â”‚
â”‚  [ä¸»è´¦å·] uuid=7586574305263552043                      â”‚
â”‚    POST /follow/do?uuid=7586574305263552043             â”‚
â”‚    { "id": "994385683293918" }                          â”‚
â”‚                                                         â”‚
â”‚  [å°å·1] uuid=7603584102477874739                       â”‚
â”‚    POST /follow/do?uuid=7603584102477874739             â”‚
â”‚    { "id": "994385683293918" }                          â”‚
â”‚                                                         â”‚
â”‚  [å°å·2] uuid=7603590070587229742                       â”‚
â”‚    POST /follow/do?uuid=7603590070587229742             â”‚
â”‚    { "id": "994385683293918" }                          â”‚
â”‚                                                         â”‚
â”‚  ... (å…¶ä»–å°å·åŒç†)                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## å¸¸è§é—®é¢˜

### Q: å¦‚æœ Cookie ä¸­æ²¡æœ‰ `__tea_cookie_tokens_2608` æ€ä¹ˆåŠï¼Ÿ

A: è„šæœ¬ä¼šä½¿ç”¨é»˜è®¤ UUID `7586574305263552043`ï¼Œä½†å¯èƒ½å¯¼è‡´ API è°ƒç”¨å¤±è´¥ã€‚å»ºè®®é‡æ–°è·å–å®Œæ•´çš„ Cookieã€‚

### Q: UUID ä¼šå˜åŒ–å—ï¼Ÿ

A: UUID æ˜¯å›ºå®šçš„ï¼Œé™¤éä½ æ¸…é™¤æµè§ˆå™¨ Cookie æˆ–é‡æ–°ç™»å½•ã€‚

### Q: å¤šä¸ªè´¦å·å¯ä»¥ä½¿ç”¨åŒä¸€ä¸ª UUID å—ï¼Ÿ

A: ä¸å¯ä»¥ï¼æ¯ä¸ªè´¦å·å¿…é¡»ä½¿ç”¨è‡ªå·±çš„ UUIDï¼Œå¦åˆ™ API ä¼šè¯†åˆ«ä¸ºåŒä¸€ä¸ªç”¨æˆ·ã€‚

### Q: å¦‚ä½•éªŒè¯ UUID æ˜¯å¦æ­£ç¡®ï¼Ÿ

A: è¿è¡Œ `python3 test_your_cookie.py` æµ‹è¯•è„šæœ¬ï¼ŒæŸ¥çœ‹æå–ç»“æœã€‚

## æ€»ç»“

âœ… **å®Œå…¨è‡ªåŠ¨åŒ–**ï¼šä½ åªéœ€æä¾› Cookieï¼Œè„šæœ¬è‡ªåŠ¨æå– UUID

âœ… **å¤šè´¦å·æ”¯æŒ**ï¼šæ¯ä¸ªè´¦å·è‡ªåŠ¨æå–å„è‡ªçš„ UUID

âœ… **å®¹é”™å¤„ç†**ï¼šæå–å¤±è´¥æ—¶ä½¿ç”¨é»˜è®¤å€¼ï¼Œå¹¶è¾“å‡ºæ—¥å¿—

âœ… **æ— éœ€æ‰‹åŠ¨é…ç½®**ï¼šä¸éœ€è¦ä½ æ‰‹åŠ¨æŸ¥æ‰¾æˆ–è¾“å…¥ UUID

ä½ åªéœ€è¦ï¼š
1. è·å–æ¯ä¸ªè´¦å·çš„å®Œæ•´ Cookie
2. é…ç½®åˆ° GitHub Secrets
3. å‰©ä¸‹çš„å…¨è‡ªåŠ¨ï¼ğŸš€
