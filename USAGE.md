# 🎁 五倍返回使用指南

## 什么是五倍返回？

当有人关注你的掘金主账号时，你的主账号 + 4个小号会自动回关对方，让对方获得5倍的关注回报！

## 效果演示

```
用户A 关注了你
    ↓
你的5个账号自动回关用户A
    ↓
用户A 获得了5个新粉丝！
```

## 快速配置（3步搞定）

### 第1步：准备账号

你需要：
- 1个主账号（你的掘金账号）
- 4个小号（可以是任意掘金账号）

**提示**：小号可以是新注册的账号，也可以是你的其他账号

### 第2步：获取 Cookies

为每个账号获取 Cookie：

1. 登录掘金账号
2. 按 F12 打开开发者工具
3. 刷新页面
4. 在 Network 标签找到任意 `api.juejin.cn` 请求
5. 复制 Cookie 值（完整的一长串）

**Cookie 示例**：
```
csrf_session_id=xxx; __tea_cookie_tokens_2608=%257B%2522web_id%2522%253A%2522xxx%2522%257D; passport_csrf_token=xxx; sid_guard=xxx; uid_tt=xxx; sessionid=xxx; ...
```

### 第3步：配置 GitHub Secrets

在你的 GitHub 仓库中：

1. 进入 Settings → Secrets and variables → Actions
2. 添加以下 Secrets：

| Secret 名称 | 说明 | 必需 |
|------------|------|------|
| `JUEJIN_COOKIES` | 主账号 Cookie | ✅ 必需 |
| `JUEJIN_COOKIES_ACCOUNT2` | 小号1 Cookie | ⭐ 可选 |
| `JUEJIN_COOKIES_ACCOUNT3` | 小号2 Cookie | ⭐ 可选 |
| `JUEJIN_COOKIES_ACCOUNT4` | 小号3 Cookie | ⭐ 可选 |
| `JUEJIN_COOKIES_ACCOUNT5` | 小号4 Cookie | ⭐ 可选 |

**注意**：
- 至少配置主账号（`JUEJIN_COOKIES`）
- 小号可以只配置部分，比如只配置2个小号也可以
- 配置几个账号就是几倍返回

## 本地测试

```bash
# 设置环境变量
export JUEJIN_COOKIES='主账号Cookie'
export JUEJIN_COOKIES_ACCOUNT2='小号1Cookie'
export JUEJIN_COOKIES_ACCOUNT3='小号2Cookie'
export JUEJIN_COOKIES_ACCOUNT4='小号3Cookie'
export JUEJIN_COOKIES_ACCOUNT5='小号4Cookie'

# 运行测试脚本
./test_multi_account.sh
```

## 执行效果

```
🎯 五倍返回模式启动！共 5 个账号
============================================================

📋 发现 3 位新粉丝待回关

============================================================
🤖 [主账号] 开始执行回关
============================================================

🔄 [主账号] 正在关注: 用户A (ID: 123456)
✅ [主账号] 成功关注: 用户A
🔄 [主账号] 正在关注: 用户B (ID: 123457)
✅ [主账号] 成功关注: 用户B
🔄 [主账号] 正在关注: 用户C (ID: 123458)
✅ [主账号] 成功关注: 用户C

📊 [主账号] 执行结果: 成功 3 人, 失败 0 人

============================================================
🤖 [小号1] 开始执行回关
============================================================

🔄 [小号1] 正在关注: 用户A (ID: 123456)
✅ [小号1] 成功关注: 用户A
...

============================================================
🎉 五倍返回任务完成！
============================================================
📊 总体统计:
   - 目标用户: 3 人
   - 使用账号: 5 个
   - 成功关注: 15 次
   - 失败次数: 0 次
   - 理论倍数: 5x
============================================================
```

## 常见问题

### Q: 我只有主账号，没有小号怎么办？

A: 没关系！只配置主账号也可以正常使用，就是普通的自动回关功能。

### Q: 我只想配置2个小号可以吗？

A: 当然可以！只配置 `JUEJIN_COOKIES_ACCOUNT2` 和 `JUEJIN_COOKIES_ACCOUNT3` 即可，这样就是3倍返回。

### Q: Cookie 会过期吗？

A: 会的，通常30天左右。过期后需要重新获取并更新 GitHub Secrets。

### Q: 会不会被封号？

A: 只要不频繁操作，正常使用不会有问题。脚本已经做了延时处理（每次操作间隔2秒）。

### Q: 可以配置更多账号吗？

A: 可以！修改脚本添加更多环境变量即可，理论上支持任意数量的账号。

### Q: 小号需要实名认证吗？

A: 不需要，普通注册的账号就可以使用。

## 进阶玩法

### 十倍返回

想要十倍返回？准备10个账号，修改脚本添加更多环境变量：

```python
# 在 main() 函数中添加
cookies_account6 = os.getenv('JUEJIN_COOKIES_ACCOUNT6')
cookies_account7 = os.getenv('JUEJIN_COOKIES_ACCOUNT7')
# ... 以此类推
```

### 定时任务

默认每小时执行一次，你可以修改 `.github/workflows/auto-follow-back.yml` 调整频率：

```yaml
schedule:
  - cron: '0 * * * *'      # 每小时
  # - cron: '0 */2 * * *'  # 每2小时
  # - cron: '0 9,18 * * *' # 每天9点和18点
```

## 注意事项

1. **Cookie 安全**：不要泄露你的 Cookie，使用 GitHub Secrets 安全存储
2. **频率控制**：不要设置过高的执行频率，避免被限流
3. **合规使用**：仅用于自动回关粉丝，不要用于恶意刷关注
4. **定期更新**：Cookie 会过期，建议每月更新一次

## 技术支持

遇到问题？
1. 查看 [详细配置指南](./config/multi-account-setup.md)
2. 查看 GitHub Actions 执行日志
3. 提交 Issue 寻求帮助

## 开始使用

配置完成后，等待 GitHub Actions 自动执行，或手动触发：

1. 进入 Actions 标签
2. 选择 "自动回关掘金粉丝"
3. 点击 "Run workflow"

祝你玩得开心！🎉
