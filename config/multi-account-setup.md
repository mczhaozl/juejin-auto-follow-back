# 五倍返回多账号配置指南

## 🎯 功能说明

使用主账号 + 4个小号，实现"五倍返回"效果：
- 当有人关注你的主账号时
- 5个账号会自动回关对方
- 让对方获得5倍的关注回报！

## 📝 配置步骤

### 1. 获取 Cookies

为每个账号获取 cookies：

1. 登录掘金账号
2. 打开浏览器开发者工具 (F12)
3. 切换到 Network 标签
4. 刷新页面或进行任意操作
5. 找到任意 `api.juejin.cn` 的请求
6. 复制 Request Headers 中的 Cookie 值

### 2. 配置 GitHub Secrets

在 GitHub 仓库设置中添加以下 Secrets：

| Secret 名称 | 说明 | 必需 |
|------------|------|------|
| `JUEJIN_COOKIES` | 主账号的 cookies | ✅ 必需 |
| `JUEJIN_COOKIES_ACCOUNT2` | 小号1的 cookies | ⭐ 可选 |
| `JUEJIN_COOKIES_ACCOUNT3` | 小号2的 cookies | ⭐ 可选 |
| `JUEJIN_COOKIES_ACCOUNT4` | 小号3的 cookies | ⭐ 可选 |
| `JUEJIN_COOKIES_ACCOUNT5` | 小号4的 cookies | ⭐ 可选 |

**配置路径**: 
仓库 → Settings → Secrets and variables → Actions → New repository secret

### 3. Cookie 格式示例

```
csrf_session_id=xxx; _tea_utm_cache_2608=xxx; __tea_cookie_tokens_2608=%257B%2522web_id%2522%253A%2522xxx%2522%257D; passport_csrf_token=xxx; sid_guard=xxx; uid_tt=xxx; sessionid=xxx; ...
```

**重要提示**:
- 复制完整的 Cookie 字符串
- 包含所有的 `key=value` 对
- 用分号 `;` 分隔
- 不要有换行

## 🚀 使用方式

### 自动执行
- 每小时自动运行一次
- 自动检测新粉丝并回关

### 手动触发
1. 进入 Actions 标签
2. 选择 "自动回关掘金粉丝" 工作流
3. 点击 "Run workflow"
4. 点击绿色的 "Run workflow" 按钮

## 📊 执行日志

执行日志会自动保存到 `logs/` 目录：
- 按月份保存为 JSON 文件
- 记录每个账号的执行情况
- 包含时间戳、成功/失败数量等

## ⚠️ 注意事项

1. **Cookie 安全**
   - 不要泄露你的 cookies
   - 定期更新 cookies（通常30天过期）
   - 使用 GitHub Secrets 安全存储

2. **频率控制**
   - 默认每小时执行一次
   - 操作间隔2秒，避免被限流
   - 账号切换间隔5秒

3. **账号数量**
   - 最少1个账号（主账号）
   - 最多5个账号（主账号+4个小号）
   - 可以只配置部分小号

4. **合规使用**
   - 仅用于自动回关粉丝
   - 不要用于恶意刷关注
   - 遵守掘金社区规范

## 🔧 故障排查

### Cookie 失效
**症状**: 提示"获取粉丝列表失败"
**解决**: 重新获取 cookies 并更新 GitHub Secrets

### 关注失败
**症状**: 显示"关注失败"
**可能原因**:
- Cookie 过期
- 操作过于频繁被限流
- 账号异常

### 查看详细日志
在 Actions 页面查看工作流运行日志，了解详细错误信息

## 📈 效果展示

```
🎯 五倍返回模式启动！共 5 个账号
============================================================

📋 发现 3 位新粉丝待回关

============================================================
🤖 [主账号] 开始执行回关
============================================================

🔄 [主账号] 正在关注: 用户A (ID: xxx)
✅ [主账号] 成功关注: 用户A
...

============================================================
🎉 五倍返回任务完成！
============================================================
📊 总体统计:
   - 目标用户: 3 人
   - 使用账号: 5 个
   - 成功关注: 15 次
   - 失败次数: 0 次
   - 理论倍数: 5x
============================================================
```

## 🎁 额外功能

如果你想实现更高倍数的返回：
1. 注册更多掘金账号
2. 修改脚本添加更多环境变量
3. 在 GitHub Secrets 中配置对应的 cookies

理论上可以支持任意数量的账号！
